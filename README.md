# Titanic
Titanic

"""____________________________________________________________________________Packete____________________________________________________________________________"""import csv as csv import numpy as np"""____________________________________________________________________________In Excel-> Split File tran in train_a and train_b-> Add Index Col --> Gender and Age-Group (1= 1 to 15 / 2=16-30 / 3=Rest)____________________________________________________________________________""""""____________________________________________________________________________File Import____________________________________________________________________________"""# Open up the csv file in to a Python object#csv_file_object = csv.reader(open('C:/LocalData/Python/train_a.csv', 'rb')) csv_file_object = csv.reader(open('C:/LocalData/Python/train_b.csv', 'rb')) header = csv_file_object.next()  # The next() command just skips the                                  # first line which is a headerdata=[]                          # Create a variable called 'data'.for row in csv_file_object:      # Run through each row in the csv file,    data.append(row)            # adding each row to the data variabledata = np.array(data)           # Then convert from a list to an array            # Be aware that each item is currently                                 # a string in this format"""____________________________________________________________________________File show____________________________________________________________________________"""print dataprint data[0] print data[-1]  print data[0::,6] #Index                                                                                                                                                                 """____________________________________________________________________________Prozent Überlebt____________________________________________________________________________"""# The size() function counts how many elements are in# in the array and sum() (as you would expects) sums up# the elements in the array.number_passengers = np.size(data[0::,1].astype(np.float))number_survived = np.sum(data[0::,1].astype(np.float))proportion_survivors = number_survived / number_passengersprint proportion_survivors #40%                                                                  """____________________________________________________________________________Group____________________________________________________________________________"""f_1_only_stats = data[0::,6] == "f_1" f_2_only_stats = data[0::,6] == "f_2" f_3_only_stats = data[0::,6] == "f_3"                                                                                     m_1_only_stats = data[0::,6] == "m_1"  m_2_only_stats = data[0::,6] == "m_2"                                                                               m_3_only_stats = data[0::,6] == "m_3" print f_1_only_statsprint f_2_only_statsprint f_3_only_statsprint m_1_only_statsprint m_2_only_statsprint m_3_only_stats# Using the index from above we select the females and males separatelyf_1_onboard = data[f_1_only_stats,1].astype(np.float)    f_2_onboard = data[f_2_only_stats,1].astype(np.float) f_3_onboard = data[f_3_only_stats,1].astype(np.float) m_1_onboard = data[m_1_only_stats,1].astype(np.float) m_2_onboard = data[m_2_only_stats,1].astype(np.float) m_3_onboard = data[m_3_only_stats,1].astype(np.float)  # Then we finds the proportions of them that survivedproportion_f_1_survived = \                       np.sum(f_1_onboard) / np.size(f_1_onboard)  proportion_f_2_survived = \                       np.sum(f_2_onboard) / np.size(f_2_onboard) proportion_f_3_survived = \                       np.sum(f_3_onboard) / np.size(f_3_onboard)                        proportion_m_1_survived = \                       np.sum(m_1_onboard) / np.size(m_1_onboard)  proportion_m_2_survived = \                       np.sum(m_2_onboard) / np.size(m_2_onboard) proportion_m_3_survived = \                       np.sum(m_3_onboard) / np.size(m_3_onboard)                          """____________________________________________________________________________Group____________________________________________________________________________"""                                              # and then print it outprint 'Proportion of f_1 who survived is %s' % proportion_f_1_survived print 'Proportion of f_2 who survived is %s' % proportion_f_2_survived print 'Proportion of f_3 who survived is %s' % proportion_f_3_survived print 'Proportion of m_1 who survived is %s' % proportion_m_1_survived print 'Proportion of m_2 who survived is %s' % proportion_m_2_survived print 'Proportion of m_3 who survived is %s' % proportion_m_3_survived """____________________________________________________________________________a File:    f_1 = 0.64    f_2 = 0.73    f_3 = 0.79    m_1 = 0.5    m_2 = 0.15    m_3 = 0.14   ____________________________________________________________________________""""""____________________________________________________________________________Prediction Power  --> Excel 0.77 ____________________________________________________________________________"""train_b_file = open('C:/LocalData/Python/train_b.csv', 'rb')train_b_file_object = csv.reader(train_b_file)header = train_b_file_object.next()predictionpower_file = open("C:/LocalData/Python/predictionpower.csv", "wb")predictionpower_file_object = csv.writer(predictionpower_file)predictionpower_file_object.writerow(["PassengerId","Survived","Prediction"])for row in train_b_file_object:       # For each row in test.csv    if row[5] in ('f_1','f_2','f_3','m_1'):          # is it a female, if yes then                                               predictionpower_file_object.writerow([row[0],row[1],'1'])    # predict 1       else:                              # or else if male,               predictionpower_file_object.writerow([row[0],row[1],'0'])    # predict 0train_b_file.close()predictionpower_file.close()"""____________________________________________________________________________Test FileExcel: Input Index col -> Gender + Age Group____________________________________________________________________________"""test_file = open('C:/LocalData/Python/test_.csv', 'rb')test_file_object = csv.reader(test_file)header = test_file_object.next()"""____________________________________________________________________________Pointer to prediction____________________________________________________________________________"""prediction_file = open("C:/LocalData/Python/gender_agegroup.csv", "wb")prediction_file_object = csv.writer(prediction_file)"""____________________________________________________________________________Do prediction (Gender and Agegroup)____________________________________________________________________________"""prediction_file_object.writerow(["PassengerId", "Survived"])for row in test_file_object:       # For each row in test.csv    if row[4] in ('f_1','f_2','f_3','m_1'):          # is it a female, if yes then                                               prediction_file_object.writerow([row[0],'1'])    # predict 1       else:                              # or else if male,               prediction_file_object.writerow([row[0],'0'])    # predict 0"""____________________________________________________________________________File close____________________________________________________________________________"""test_file.close()prediction_file.close()
